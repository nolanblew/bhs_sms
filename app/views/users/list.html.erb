<% provide(:title, "List Users") %>
<h1>List Users</h1>
<%= link_to "Create New user", new_user_path %> <br/><br/>
<i>Here are all of the users:</i><br/><br/>
<table class="list">
  <tr>
    <th><%= sortable "username" %></th>
    <th><%= sortable "email" %></th>
    <th>Edit User</th>
    <th>Delete User</th>
  </tr>

  <% User.order(sort_column + ' ' + sort_direction).each do |user| %>
      <tr>
        <td><%= user.username %></td>
        <td><%= link_to user.email, "mailto:" + user.email if !user.email.nil? %></td>
        <td><%= link_to "Edit", edit_user_path(user) %></td>
        <td><%= link_to "Delete", user_path(user), method: :delete, confirm: "Are you sure you want to delete this user? This action cannot be undone." %></td>
      </tr>
  <% end %>
</table>